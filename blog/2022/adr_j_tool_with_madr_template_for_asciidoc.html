<!DOCTYPE html>
<html lang="en">

<head>

        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
        <meta name="description" content="Java Based Tooling for Architecture Decision Records"/>
        <meta name="author" content="Torsten Kleiber"/>

        <title>Use ADR-J Tool with MADR Template for AsciiDoc</title>

        <meta name="robots" content="index, follow"/>
        <meta name="generator" content="JBake"/>

        <!--Facebook Card-->
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Use ADR-J Tool with MADR Template for AsciiDoc"/>
        <meta property="og:description" content="Java Based Tooling for Architecture Decision Records"/>
        <meta property="og:image"
        content="https://www.amapac.io/images/adr_j_tool_with_madr_template_for_asciidoc_shareimage.png"/>

        <!--Twitter card -->
        
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:title" content="Use ADR-J Tool with MADR Template for AsciiDoc">
        <meta name="twitter:creator" content="@develishdevelop">
        <meta name="twitter:description" content="Java Based Tooling for Architecture Decision Records">
        <meta name="twitter:image"
          content="https://www.amapac.io/images/adr_j_tool_with_madr_template_for_asciidoc_shareimage.png">
        

        <!-- Bootstrap core CSS -->
        <link href="../../vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet"/>

        <!-- highlightjs Code Formatter -->
        <link href="../../vendor/highlightjs/styles/default.css" rel="stylesheet" type="text/css">
        <script src="../../vendor/highlightjs/highlight.pack.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>

        <!-- Custom Fonts -->
        <link href="../../vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Lato:300&amp;text=AMAPAC"
        rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">

        <!-- Custom styles for this template -->
        <link href="../../css/asciidoctor.css" rel="stylesheet">
        <link href="../../css/clean-blog.min.css" rel="stylesheet">

        <!-- Klaro Cookie Consent tool -->
        <script defer type="text/javascript" src="../../vendor/klaro/config.js"></script>
        <script defer type="text/javascript" src="https://cdn.kiprotect.com/klaro/latest/klaro.js"></script>

        <link rel="shortcut icon" href="../../favicon.png"/>
    </head>

<body>

  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
            <div class="container">
                <a class="navbar-brand" href="../../index.html">AMAPAC</a>
                    <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                      Menu
                      <i class="fas fa-bars"></i>
                    </button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="../../about.html">About</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="../../tags/index.html">Tags</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="../../archive.html">Archive</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

  <!-- Page Header -->
  <!-- Set your background image for this header on the line below. -->
  <header class="masthead" style="background-image: url(&#39;../../images/cover_architecture.jpg&#39;) ; background-color:#101010">
    <div class="overlay"></div>
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto">
          <div class="post-heading">
            <h1>Use ADR-J Tool with MADR Template for AsciiDoc</h1>
            <h2 class="subheading">Java Based Tooling for Architecture Decision Records</h2>
            <span class="meta">Posted by
              <b>Torsten Kleiber</b>
              on March 31, 2022
              
              </br>
              <span> Tags:
                <span>
                  <a href="../../tags/Architecture.html" class="" >Architecture</a></span><span>
                  <a href="../../tags/ADR.html" class="" >ADR</a></span><span>
                  <a href="../../tags/AsciiDoc.html" class="" >AsciiDoc</a></span><span>
                  <a href="../../tags/Documentation.html" class="" >Documentation</a></span>
                </span>
              </span>
            </span>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Post Content -->
  <article>
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto"><div class="paragraph">
<p>In my blog <a href="adr_tool_with_custom_template_for_asciidoc.html">Use adr-tools for AsciiDoc</a> I have described, how to change the tool to write my Architecture Decision Records in AsciiDoc. But there are a lot of drawbacks with this approach, e.g. some of the features like linking and superceding decisions does not work. ADR Tool is based on shell scripts, so you have to provide and know a *nix emulation on windows. In the meantime I found Java base <a href="https://github.com/adoble/adr-j"> ADR-J Tool</a> and will show you here if this works better for my purposes.</p>
</div>
<div class="paragraph">
<p>According to its own <a href="https://github.com/adoble/adr-j/blob/main/doc/adr/0004-markdown-format.md">architecture decision records</a> it support only markdown as <a href="https://github.com/npryce/adr-tools">ADR-Tool</a> does. And again I found nothing clear here in the documentation about AsciiDoc too.</p>
</div>
<div class="paragraph">
<p>But similar as in ADR-tools I found here the closed Issue <a href="https://github.com/adoble/adr-j/issues/12">Extend to use Asciidoc as well as markdown</a> and the related <a href="https://github.com/adoble/adr-j/pull/15">pull request</a> describes, what I have to prepare one time on my Windows 11 machine:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>First I clone the repository <a href="https://github.com/adoble/adr-j" class="bare">https://github.com/adoble/adr-j</a>.</p>
</li>
<li>
<p>Then I build and install the tool as decribed in <a href="https://github.com/adoble/adr-j/blob/main/doc/usage/INSTALL.md">INSTALL.md</a></p>
</li>
<li>
<p>When testing the tool I get following error:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">C:&gt;adr
Error: A JNI error has occurred, please check your installation and try again
Exception in thread "main" java.lang.UnsupportedClassVersionError: org/doble/adr/ADR has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0</code></pre>
</div>
</div>
</li>
<li>
<p>As I have installed Oracle JRE 8 on my Windows 11 machine I have to change these both parameters to 8</p>
<div class="listingblock">
<div class="title">build.gradle</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-gradle hljs" data-lang="gradle">sourceCompatibility = 11
targetCompatibility = 11</code></pre>
</div>
</div>
</li>
<li>
<p>After building again now my fist call works.</p>
</li>
<li>
<p>Next step is to create asciidoc templates.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>As I want to use MADR format for Architecture Decision Records too I copy the markdown templates files <a href="https://github.com/adoble/adr-j/blob/main/doc/example_templates/madr.md">madr.md</a> and <a href="https://github.com/adoble/adr-j/blob/main/doc/example_templates/madr_initial.md">madr_initial.md</a> from the project now with the extension .adoc.</p>
</li>
<li>
<p>Then I convert all the Markdown specific syntax to AsciiDoc syntax.</p>
</li>
<li>
<p>If you use IntelliJ IDEA with the AsciiDoc plugin you can do both steps in one go via right click on the file and choose <em>Convert to AsciiDoc</em>. This is how it looks like:</p>
<div class="imageblock">
<div class="content">
<a class="image" href="../../images/adr_j_tool_with_madr_template_for_asciidoc_template.png"><img src="../../images/adr_j_tool_with_madr_template_for_asciidoc_template.png" alt="adr j tool with madr template for asciidoc template" width="100%"></a>
</div>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>I would recommend to copy the AsciiDoc templates to your project first. Then you can test this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">C:&gt;adr init -i &lt;path&gt;\madr_initial.adoc -t &lt;path&gt;\madr.adoc
Creating ADR directory at &lt;path&gt;\doc\adr

C:&gt;more doc\adr\0001-record-architecture-decisions.adoc
= Record Architecture Decisions
...

C:&gt;adr new Save ADR Templates for Projects
Creating ADR
Created ADR at C:\Users\torst\doc\adr\0002-save-adr-templates-in-projects.adoc
Opening Editor on C:\Users\torst\doc\adr\0002-save-adr-templates-in-projects.adoc ...
C:\Users\torst\doc\adr\0002-save-adr-templates-in-projects.adoc

C:\Users\torst&gt;more doc\adr\0002-save-adr-templates-in-projects.adoc
= Save ADR Templates in Projects

* Status: Proposed
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>After that you have to fill the new file with relevant content for your Architecture Decision.</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="../../images/adr_j_tool_with_madr_template_for_asciidoc_generated.png"><img src="../../images/adr_j_tool_with_madr_template_for_asciidoc_generated.png" alt="adr j tool with madr template for asciidoc generated" width="100%"></a>
</div>
</div>
<div class="paragraph">
<p>If you try to work with links in ADR via <em>adr new -link</em> you will see, that at the moment the file reference will not be created at the moment. Similar happens, when you try to use <em>adr edit 1</em> to open ADR 1 in your configured editor. This is related to some existing hard references to Markdown '.md extension in the code. I have created a <a href="https://github.com/adoble/adr-j/pull/40">pull request</a>, which should solve this.</p>
</div>
<div class="paragraph">
<p>You find the change already in my fork on <a href="https://github.com/tkleiber/adr-j">GitHub</a>.</p>
</div>
<div class="paragraph">
<p>That&#8217;s it!</p>
</div></div>
      </div>
      <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto">
          
          <ul class="list-inline text-center"><!-- Social Share Button HTML -->
            <!-- Twitter -->
            <li class="list-inline-item">
              <a href="https://twitter.com/share?url=https://www.amapac.io/blog/2022/adr_j_tool_with_madr_template_for_asciidoc.html&amp;text=Use%20ADR-J%20Tool%20with%20MADR%20Template%20for%20AsciiDoc&amp;via=develishdevelop"
                 target="_blank" rel="noreferrer" class="share-btn twitter">
                <i class="fab fa-twitter"></i>
              </a>
            </li>

            <!-- Facebook -->
            <li class="list-inline-item">
              <a href="https://www.facebook.com/sharer/sharer.php?u=https://www.amapac.io/blog/2022/adr_j_tool_with_madr_template_for_asciidoc.html"
                 target="_blank" rel="noreferrer" class="share-btn facebook">
                <i class="fab fa-facebook"></i>
              </a>
            </li>

            <!-- LinkedIn -->
            <li class="list-inline-item">
              <a href="https://www.linkedin.com/sharing/share-offsite?url=https://www.amapac.io/blog/2022/adr_j_tool_with_madr_template_for_asciidoc.html"
                 target="_blank" rel="noreferrer" class="share-btn linkedin">
                <i class="fab fa-linkedin"></i>
              </a>
            </li>

            <!-- Xing -->
            <li class="list-inline-item">
              <a href="https://www.xing.com/spi/shares/new?url=https://www.amapac.io/blog/2022/adr_j_tool_with_madr_template_for_asciidoc.html"
                 target="_blank" rel="noreferrer" class="share-btn xing">
                <i class="fab fa-xing"></i>
              </a>
            </li>

            <!-- Tumblr -->
            <li class="list-inline-item">
              <a href="https://www.tumblr.com/widgets/share/tool/preview?shareSource=legacy&amp;url=https://www.amapac.io/blog/2022/adr_j_tool_with_madr_template_for_asciidoc.html&amp;title=Use%20ADR-J%20Tool%20with%20MADR%20Template%20for%20AsciiDoc"
                 target="_blank" rel="noreferrer" class="share-btn tumblr">
                <i class="fab fa-tumblr"></i>
              </a>
            </li>

            <!-- Pinterest -->
            <li class="list-inline-item">
              <a href="https://www.pinterest.de/pin/create/button?url=https://www.amapac.io/blog/2022/adr_j_tool_with_madr_template_for_asciidoc.html&amp;description=Use%20ADR-J%20Tool%20with%20MADR%20Template%20for%20AsciiDoc"
                 target="_blank" rel="noreferrer" class="share-btn pinterest">
                <i class="fab fa-pinterest"></i>
              </a>
            </li>

            <!-- Reddit -->
            <li class="list-inline-item">
              <a href="https://www.reddit.com/submit?url=https://www.amapac.io/blog/2022/adr_j_tool_with_madr_template_for_asciidoc.html&amp;title=Use%20ADR-J%20Tool%20with%20MADR%20Template%20for%20AsciiDoc"
                 target="_blank" rel="noreferrer" class="share-btn reddit">
                <i class="fab fa-reddit-alien"></i>
              </a>
            </li>

            <!-- Email -->
            <li class="list-inline-item">
              <a href="mailto:?subject=Check%20out%20this%20post%20by%20Torsten%20Kleiber%20-%20Use%20ADR-J%20Tool%20with%20MADR%20Template%20for%20AsciiDoc&amp;body=https://www.amapac.io/blog/2022/adr_j_tool_with_madr_template_for_asciidoc.html"
                 target="_blank" rel="noreferrer" class="share-btn email">
                <i class="fas fa-envelope"></i>
              </a>
            </li>

            <!-- Telegram -->
            <li class="list-inline-item">
              <a href="https://telegram.me/share/url?url=https://www.amapac.io/blog/2022/adr_j_tool_with_madr_template_for_asciidoc.html&amp;text=Use%20ADR-J%20Tool%20with%20MADR%20Template%20for%20AsciiDoc"
                 target="_blank" rel="noreferrer" class="share-btn telegram">
                <i class="fab fa-telegram"></i>
              </a>
            </li>

            <!-- Whatsapp -->
            <li class="list-inline-item">
              <a href="https://api.whatsapp.com/send?text=Use%20ADR-J%20Tool%20with%20MADR%20Template%20for%20AsciiDoc%20https://www.amapac.io/blog/2022/adr_j_tool_with_madr_template_for_asciidoc.html"
                 target="_blank" rel="noreferrer" class="share-btn whatsapp">
                <i class="fab fa-whatsapp"></i>
              </a>
            </li>

            <!-- Skype -->
            <li class="list-inline-item">
              <a href="https://web.skype.com/share?url=https://www.amapac.io/blog/2022/adr_j_tool_with_madr_template_for_asciidoc.html&amp;lang=en-US&amp;source=jetpack"
                 target="_blank" rel="noreferrer" class="share-btn skype">
                <i class="fab fa-skype"></i>
              </a>
            </li>

          </ul>

        
        </div>
      </div>
    </div>
  </article>

  <hr>

  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-md-10 mx-auto">
        
      </div>
    </div>
  </div>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-md-10 mx-auto">
        
          <div id="hyvor-talk-view"></div>
          <script type="text/plain" data-type="text/javascript" data-name="hyvor">
            var HYVOR_TALK_WEBSITE = "1445";
            var HYVOR_TALK_CONFIG = {
              url: false,
              id: false
            };
          </script>
          <script async type="text/plain" data-type="text/javascript" data-name="hyvor" src="//talk.hyvor.com/web-api/embed"></script>
        
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer>
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-md-10 mx-auto">
                        <ul class="list-inline text-center">
                            <li class="list-inline-item">
                                <a href="../../feed.xml" title="Subscribe to RSS feed">
                                    <span class="fa-stack">
                                        <i class="fas fa-circle fa-stack-2x"></i>
                                        <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li class="list-inline-item">
                                <a href="https://twitter.com/develishdevelop">
                                    <span class="fa-stack">
                                        <i class="fas fa-circle fa-stack-2x"></i>
                                        <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li class="list-inline-item">
                                <a href="https://github.com/tkleiber">
                                    <span class="fa-stack">
                                        <i class="fas fa-circle fa-stack-2x"></i>
                                        <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li class="list-inline-item">
                                <a href="https://linkedin.com/in/kleiber/">
                                    <span class="fa-stack">
                                        <i class="fas fa-circle fa-stack-2x"></i>
                                        <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li class="list-inline-item">
                                <a href="https://www.xing.com/profile/Torsten_Kleiber/">
                                    <span class="fa-stack">
                                        <i class="fas fa-circle fa-stack-2x"></i>
                                        <i class="fab fa-xing fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li class="list-inline-item">
                                <a href="https://www.slideshare.net/tkleiber/">
                                    <span class="fa-stack">
                                        <i class="fas fa-circle fa-stack-2x"></i>
                                        <i class="fab fa-slideshare fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                        </ul>
                            <p class="copyright text-muted">&copy; <span>Torsten Kleiber</span>
                                <span>2022</span> | <a
              href="https://startbootstrap.com/template-overviews/clean-blog/">Clean Blog theme</a> by <a
              href="https://startbootstrap.com/">Start Bootstrap</a> | Baked with <a href="http://jbake.org">JBake <span>v2.7.0-rc.2</span></a> | <a href="#" onclick="klaro.show();">Change cookie settings</a></p>
      </div>
    </div>
  </div>
  </footer>

  <!-- Bootstrap core JavaScript -->
  <script src="../../vendor/jquery/jquery.min.js"></script>
  <script src="../../vendor/bootstrap/js/bootstrap.bundle.min.js" ></script>

  <!-- Custom scripts for this template -->
  <script src="../../js/clean-blog.min.js"></script>

  

</body>

</html>