<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="Use this, when you have no native Docker installation" />
        <meta name="author" content="Torsten Kleiber" />
        <title>Run your Development Server with Vagrant on VirtualBox on Windows</title>
        <link rel="icon" type="image/x-icon" href="../../favicon.png" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Lato:300&amp;text=AMAPAC"
              rel="stylesheet" type="text/css"/>

        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="../../vendor/clean-blog/css/styles.css" rel="stylesheet">

        <!-- Custom styles for this template -->
        <link href="../../css/asciidoctor.css" rel="stylesheet"/>
        <!-- link href="https://cdnjs.cloudflare.com/ajax/libs/asciidoctor.js/1.5.9/css/asciidoctor.css" rel="stylesheet"/-->

        <!-- highlightjs Code Formatter -->
        <link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.3/styles/default.min.css" rel="stylesheet" type="text/css"/>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.3/highlight.min.js"></script>
        <script>hljs.highlightAll();</script>


        <!-- Klaro Cookie Consent tool -->
        <script defer type="text/javascript" src="../../vendor/klaro/config.js"></script>
        <script defer type="text/javascript" src="https://cdn.kiprotect.com/klaro/latest/klaro.js"></script>

        <meta name="robots" content="index, follow"/>
        <meta name="generator" content="JBake"/>
        <!--Facebook Card-->
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Run your Development Server with Vagrant on VirtualBox on Windows"/>
        <meta property="og:description" content="Use this, when you have no native Docker installation"/>
        <meta property="og:image"
        content="https://www.amapac.io/images/virtual_development_server_vagrant_and_virtualbox_on_windows.png"/>

        <!--Twitter card -->
        
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:title" content="Run your Development Server with Vagrant on VirtualBox on Windows">
        <meta name="twitter:creator" content="@develishdevelop">
        <meta name="twitter:description" content="Use this, when you have no native Docker installation">
        <meta name="twitter:image"
          content="https://www.amapac.io/images/virtual_development_server_vagrant_and_virtualbox_on_windows.png">
        

    </head>
    <body>
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-light" id="mainNav">
            <div class="container px-4 px-lg-5">
                <a class="navbar-brand" href="../../index.html">AMAPAC</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                    Menu
                    <i class="fas fa-bars"></i>
                </button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ms-auto py-4 py-lg-0">
                        <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="../../about.html">About</a></li>
                        <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="../../tags/index.html">Tags</a></li>
                        <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="../../archive.html">Archive</a></li>
                    </ul>
                </div>
            </div>
        </nav>
        <!-- Page Header-->
        <header class="masthead" style="background-image: url(&#39;../../images/cover_development_server.jpg&#39;) ; background-color:#101010">
            <div class="container position-relative px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-md-10 col-lg-8 col-xl-7">
                        <div class="post-heading">
                            <h1>Run your Development Server with Vagrant on VirtualBox on Windows</h1>
                            <h2 class="subheading">Use this, when you have no native Docker installation</h2>
                            <span class="meta">
                                Posted by
                                <b>Torsten Kleiber</b>
                                on September 28, 2022
                                
                                <span> Tags:
                                    <span>
                                        <a href="../../tags/Docker.html" class="" >Docker</a>
                                    </span><span>
                                        <a href="../../tags/Infrastructure-as-Code.html" class="" >Infrastructure-as-Code</a>
                                    </span><span>
                                        <a href="../../tags/Virtual-Development-Server.html" class="" >Virtual-Development-Server</a>
                                    </span><span>
                                        <a href="../../tags/Vagrant.html" class="" >Vagrant</a>
                                    </span><span>
                                        <a href="../../tags/VirtualBox.html" class="" >VirtualBox</a>
                                    </span><span>
                                        <a href="../../tags/Windows.html" class="" >Windows</a>
                                    </span>
                                </span>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <!-- Post Content-->
        <article class="mb-4">
            <div class="container px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-md-10 col-lg-8 col-xl-7"><div class="paragraph">
<p>In my series about Modern Infrastructure for your Virtual Development Server I will now start my Server with Vagrant in VirtualBox on Windows. Again I will use Jenkins as example for this. See how this works.</p>
</div>
<div class="paragraph">
<p>Here you see the architecture overview:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="../../images/virtual_development_server_vagrant_and_virtualbox_on_windows.png"><img src="../../images/virtual_development_server_vagrant_and_virtualbox_on_windows.png" alt="virtual development server vagrant and virtualbox on windows" width="100%"></a>
</div>
</div>
<div class="paragraph">
<p>I use this architecture here in windows, but it should work similar on all environments, where Vagrant and VirtualBox is available for.</p>
</div>
<div class="paragraph">
<p>At first I install <a href="https://www.vagrantup.com/downloads">Vagrant</a> and <a href="https://www.virtualbox.org/wiki/Downloads">VirtualBox</a> with Oracle VM VirtualBox Extension Pack.</p>
</div>
<div class="paragraph">
<p>Via this Vagrantfile I create my infrastructure:</p>
</div>
<div class="listingblock">
<div class="title">Vagrantfile</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-numlines hljs" data-lang="numlines">Vagrant.configure(2) do |config|
  config.vm.box = "bento/ubuntu-22.04" <i class="conum" data-value="1"></i><b>(1)</b>
  config.vm.network "forwarded_port", guest: 8080, host: 8080 <i class="conum" data-value="2"></i><b>(2)</b>
  config.vm.provider "virtualbox" do |vb|
    vb.name = "DevelopmentServer"
    vb.customize ["modifyvm", :id, "--cpus", "2"] <i class="conum" data-value="3"></i><b>(3)</b>
  end
  config.vm.provision "shell"  do |s|
    s.path = "bootstrap.sh" <i class="conum" data-value="4"></i><b>(4)</b>
  end
end</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Use a Ubuntu box with vagrant user preinstalled as <a href="https://app.vagrantup.com/ubuntu">official boxes</a> does not have vagrant user and some other operating systems require Docker EE.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Forward the port from Jenkins Docker container to my local host.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Workaround "kernel panic" issue with current VirtualBox version by configuring at least 2 CPU&#8217;s.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Call provisioning script for installing Docker itself and the Jenkins Container.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Sure I could create the whole server here, but instead I install only Docker und run then the same Dockerfile as in my blog <a href="../2022/virtual_development_server_docker_desktop_on_windows.html">Run your Development Server on Docker Desktop on Windows</a>.</p>
</div>
<div class="listingblock">
<div class="title">Vagrantfile</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">#!/bin/bash
<i class="conum" data-value="1"></i><b>(1)</b>
sudo apt-get update -y
sudo apt-get install -y \
    ca-certificates \
    curl \
    gnupg \
    lsb-release
sudo mkdir -p /etc/apt/keyrings
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg
echo \
  "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu \
  $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null
sudo apt-get update -y
sudo apt-get install -y docker-ce docker-ce-cli containerd.io docker-compose-plugin
sudo service docker start

<i class="conum" data-value="2"></i><b>(2)</b>
pushd /vagrant || exit
sudo docker compose up --detach</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Install Docker Engine on Ubuntu as described <a href="https://docs.docker.com/engine/install/ubuntu/#install-using-the-repository">here</a></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Change to automatically mapped source directory and start the Docker Compose file.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>From the directory of your files you can now use following commands to control your Development Server:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">vagrant up
vagrant halt</code></pre>
</div>
</div>
<div class="paragraph">
<p>The first start needs some time, as the provisioning takes place one time.</p>
</div>
<div class="paragraph">
<p>If you start your server you should see the following in the Docker Desktop Console:</p>
</div>
<div class="paragraph">
<p>As your server is running you can now access it via <a href="http://localhost:8080/">localhost:8080</a>:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="../../images/virtual_development_server_docker_desktop_on_windows_unlock_jenkins.png"><img src="../../images/virtual_development_server_docker_desktop_on_windows_unlock_jenkins.png" alt="virtual development server docker desktop on windows unlock jenkins" width="100%"></a>
</div>
</div>
<div class="paragraph">
<p>How do you get now the initial password?</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">vagrant ssh <i class="conum" data-value="1"></i><b>(1)</b>
sudo docker ps <i class="conum" data-value="2"></i><b>(2)</b>
sudo docker exec -it vagrant-jenkins-1 more var/jenkins_home/secrets/initialAdminPassword <i class="conum" data-value="3"></i><b>(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>open console to your VirtualBox guest</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>list the runnung docker Container, in my case <em>vagrant-jenkins-1</em> is the name listed for my container under the <em>names</em> columns there</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>show the initial password from the mentioned path in the screenshot</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You find all sources on <a href="https://github.com/amapac-io/vds_jenkins_with_vagrant_and_virtualbox_simple">GitHub</a>.</p>
</div>
<div class="paragraph">
<p>That&#8217;s it!</p>
</div></div>
                </div>
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-md-10 col-lg-8 col-xl-7">
                        
          <ul class="list-inline text-center"><!-- Social Share Button HTML -->
            <!-- Twitter -->
            <li class="list-inline-item">
              <a href="https://twitter.com/share?url=https://www.amapac.io/blog/2022/virtual_development_server_vagrant_and_virtualbox_on_windows.html&amp;text=Run%20your%20Development%20Server%20with%20Vagrant%20on%20VirtualBox%20on%20Windows&amp;via=develishdevelop"
                 target="_blank" rel="noreferrer" class="share-btn twitter">
                <i class="fab fa-twitter"></i>
              </a>
            </li>

            <!-- Facebook -->
            <li class="list-inline-item">
              <a href="https://www.facebook.com/sharer/sharer.php?u=https://www.amapac.io/blog/2022/virtual_development_server_vagrant_and_virtualbox_on_windows.html"
                 target="_blank" rel="noreferrer" class="share-btn facebook">
                <i class="fab fa-facebook"></i>
              </a>
            </li>

            <!-- LinkedIn -->
            <li class="list-inline-item">
              <a href="https://www.linkedin.com/sharing/share-offsite?url=https://www.amapac.io/blog/2022/virtual_development_server_vagrant_and_virtualbox_on_windows.html"
                 target="_blank" rel="noreferrer" class="share-btn linkedin">
                <i class="fab fa-linkedin"></i>
              </a>
            </li>

            <!-- Xing -->
            <li class="list-inline-item">
              <a href="https://www.xing.com/spi/shares/new?url=https://www.amapac.io/blog/2022/virtual_development_server_vagrant_and_virtualbox_on_windows.html"
                 target="_blank" rel="noreferrer" class="share-btn xing">
                <i class="fab fa-xing"></i>
              </a>
            </li>

            <!-- Tumblr -->
            <li class="list-inline-item">
              <a href="https://www.tumblr.com/widgets/share/tool/preview?shareSource=legacy&amp;url=https://www.amapac.io/blog/2022/virtual_development_server_vagrant_and_virtualbox_on_windows.html&amp;title=Run%20your%20Development%20Server%20with%20Vagrant%20on%20VirtualBox%20on%20Windows"
                 target="_blank" rel="noreferrer" class="share-btn tumblr">
                <i class="fab fa-tumblr"></i>
              </a>
            </li>

            <!-- Pinterest -->
            <li class="list-inline-item">
              <a href="https://www.pinterest.de/pin/create/button?url=https://www.amapac.io/blog/2022/virtual_development_server_vagrant_and_virtualbox_on_windows.html&amp;description=Run%20your%20Development%20Server%20with%20Vagrant%20on%20VirtualBox%20on%20Windows"
                 target="_blank" rel="noreferrer" class="share-btn pinterest">
                <i class="fab fa-pinterest"></i>
              </a>
            </li>

            <!-- Reddit -->
            <li class="list-inline-item">
              <a href="https://www.reddit.com/submit?url=https://www.amapac.io/blog/2022/virtual_development_server_vagrant_and_virtualbox_on_windows.html&amp;title=Run%20your%20Development%20Server%20with%20Vagrant%20on%20VirtualBox%20on%20Windows"
                 target="_blank" rel="noreferrer" class="share-btn reddit">
                <i class="fab fa-reddit-alien"></i>
              </a>
            </li>

            <!-- Email -->
            <li class="list-inline-item">
              <a href="mailto:?subject=Check%20out%20this%20post%20by%20Torsten%20Kleiber%20-%20Run%20your%20Development%20Server%20with%20Vagrant%20on%20VirtualBox%20on%20Windows&amp;body=https://www.amapac.io/blog/2022/virtual_development_server_vagrant_and_virtualbox_on_windows.html"
                 target="_blank" rel="noreferrer" class="share-btn email">
                <i class="fas fa-envelope"></i>
              </a>
            </li>

            <!-- Telegram -->
            <li class="list-inline-item">
              <a href="https://telegram.me/share/url?url=https://www.amapac.io/blog/2022/virtual_development_server_vagrant_and_virtualbox_on_windows.html&amp;text=Run%20your%20Development%20Server%20with%20Vagrant%20on%20VirtualBox%20on%20Windows"
                 target="_blank" rel="noreferrer" class="share-btn telegram">
                <i class="fab fa-telegram"></i>
              </a>
            </li>

            <!-- Whatsapp -->
            <li class="list-inline-item">
              <a href="https://api.whatsapp.com/send?text=Run%20your%20Development%20Server%20with%20Vagrant%20on%20VirtualBox%20on%20Windows%20https://www.amapac.io/blog/2022/virtual_development_server_vagrant_and_virtualbox_on_windows.html"
                 target="_blank" rel="noreferrer" class="share-btn whatsapp">
                <i class="fab fa-whatsapp"></i>
              </a>
            </li>

            <!-- Skype -->
            <li class="list-inline-item">
              <a href="https://web.skype.com/share?url=https://www.amapac.io/blog/2022/virtual_development_server_vagrant_and_virtualbox_on_windows.html&amp;lang=en-US&amp;source=jetpack"
                 target="_blank" rel="noreferrer" class="share-btn skype">
                <i class="fab fa-skype"></i>
              </a>
            </li>

          </ul>

        
                    </div>
                </div>
            </div>
        </article>

        <hr>

        <div class="container px-4 px-lg-5">
            <div class="row gx-4 gx-lg-5 justify-content-center">
                <div class="col-md-10 col-lg-8 col-xl-7">
                    
                </div>
            </div>
        </div>

        <div class="container px-4 px-lg-5">
            <div class="row gx-4 gx-lg-5 justify-content-center">
                <div class="col-md-10 col-lg-8 col-xl-7">
                    
          <div id="hyvor-talk-view"></div>
          <script type="text/plain" data-type="text/javascript" data-name="hyvor">
            var HYVOR_TALK_WEBSITE = "1445";
            var HYVOR_TALK_CONFIG = {
              url: false,
              id: false
            };
          </script>
          <script async type="text/plain" data-type="text/javascript" data-name="hyvor" src="//talk.hyvor.com/web-api/embed"></script>
        
                </div>
            </div>
        </div>

        <!-- Footer-->
        <footer class="border-top">
            <div class="container px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-md-10 col-lg-8 col-xl-7">
                        <ul class="list-inline text-center">
                            <li class="list-inline-item">
                                <a href="../../feed.xml" title="Subscribe to RSS feed">
                                    <span class="fa-stack">
                                        <i class="fas fa-circle fa-stack-2x"></i>
                                        <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li class="list-inline-item">
                                <a href="https://twitter.com/develishdevelop">
                                    <span class="fa-stack">
                                        <i class="fas fa-circle fa-stack-2x"></i>
                                        <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li class="list-inline-item">
                                <a href="https://github.com/tkleiber">
                                    <span class="fa-stack">
                                        <i class="fas fa-circle fa-stack-2x"></i>
                                        <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li class="list-inline-item">
                                <a href="https://linkedin.com/in/kleiber">
                                    <span class="fa-stack">
                                        <i class="fas fa-circle fa-stack-2x"></i>
                                        <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li class="list-inline-item">
                                <a href="https://www.xing.com/profile/Torsten_Kleiber">
                                    <span class="fa-stack">
                                        <i class="fas fa-circle fa-stack-2x"></i>
                                        <i class="fab fa-xing fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li class="list-inline-item">
                                <a href="https://www.slideshare.net/tkleiber">
                                    <span class="fa-stack">
                                        <i class="fas fa-circle fa-stack-2x"></i>
                                        <i class="fab fa-slideshare fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                        </ul>
                            <p class="small text-center text-muted fst-italic">
                                &copy;
                                <span>Torsten Kleiber</span>
                                <span>2023</span>
                                | <a href="https://startbootstrap.com/theme/clean-blog">Clean Blog theme</a>
                                by <a href="https://startbootstrap.com/">Start Bootstrap</a>
                                | Baked with <a href="https://jbake.org">JBake
                                <span>v2.7.0-rc.6</span></a>
                                | <a href="#" onclick="klaro.show();">Change cookie settings</a>
                            </p>
                    </div>
                </div>
            </div>
        </footer>
        <!-- Bootstrap core JS-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="../../vendor/clean-blog/js/scripts.js"></script>
        
    </body>
</html>